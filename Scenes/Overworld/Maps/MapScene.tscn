[gd_scene load_steps=20 format=4 uid="uid://ca0jpvrn30kqs"]

[ext_resource type="Script" uid="uid://dpvawxyt7k0n7" path="res://Scripts/Overworld/Core/OverworldGrid.gd" id="1_03vl0"]
[ext_resource type="TileSet" uid="uid://bo4svjmq1mi66" path="res://Resources/Tilesets/Outside_tileset.tres" id="2_3m0lu"]
[ext_resource type="PackedScene" uid="uid://da2qg21ij71cs" path="res://Scenes/Events/Event.tscn" id="3_7n1ec"]
[ext_resource type="Texture2D" uid="uid://ccncf5rus5o6e" path="res://Sprites/Tilesets/Outside.png" id="4_cy1pc"]
[ext_resource type="Script" uid="uid://ddybtc0beib3h" path="res://Scripts/Events/EventPage.gd" id="4_honu0"]
[ext_resource type="Script" uid="uid://bo6557n2i4d87" path="res://Scripts/Events/EventCommand.gd" id="5_lchh5"]
[ext_resource type="Script" uid="uid://badx4bswihslg" path="res://Scripts/Events/Commands/ShowMessageCommand.gd" id="6_s82w2"]
[ext_resource type="PackedScene" uid="uid://d0gweahpiuul1" path="res://Scenes/Events/EventController.tscn" id="7_5slja"]
[ext_resource type="Script" uid="uid://dy36hc326kn7v" path="res://Scripts/Events/Commands/WaitCommand.gd" id="7_dxx2e"]
[ext_resource type="Script" uid="uid://bocuxh8svpgvc" path="res://Scripts/Events/Commands/UnblockPlayerCommand.gd" id="8_pga4s"]
[ext_resource type="Script" uid="uid://nr8r6pek166s" path="res://Scripts/Events/Commands/BlockPlayerCommand.gd" id="9_mv35c"]

[sub_resource type="Resource" id="Resource_s82w2"]
script = ExtResource("6_s82w2")
message = "¡Hola mundo!"
wait_input = true
close_at_end = true
wait_time = 0.0
metadata/_custom_type_script = "uid://badx4bswihslg"

[sub_resource type="Resource" id="Resource_pga4s"]
script = ExtResource("8_pga4s")
metadata/_custom_type_script = "uid://bocuxh8svpgvc"

[sub_resource type="Resource" id="Resource_dxx2e"]
script = ExtResource("7_dxx2e")
duration = 3.0
metadata/_custom_type_script = "uid://dy36hc326kn7v"

[sub_resource type="Resource" id="Resource_mv35c"]
script = ExtResource("9_mv35c")
metadata/_custom_type_script = "uid://nr8r6pek166s"

[sub_resource type="Resource" id="Resource_mnaxd"]
script = ExtResource("6_s82w2")
message = "¡Hola mundo!"
wait_input = true
close_at_end = true
wait_time = 0.0
metadata/_custom_type_script = "uid://badx4bswihslg"

[sub_resource type="Resource" id="Resource_5slja"]
script = ExtResource("4_honu0")
trigger_type = 1
commands = Array[ExtResource("5_lchh5")]([SubResource("Resource_s82w2"), SubResource("Resource_pga4s"), SubResource("Resource_dxx2e"), SubResource("Resource_mv35c"), SubResource("Resource_mnaxd")])
blocks_player = true
through = true
metadata/_custom_type_script = "uid://ddybtc0beib3h"

[sub_resource type="AtlasTexture" id="AtlasTexture_cy1pc"]
atlas = ExtResource("4_cy1pc")
region = Rect2(192, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_honu0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_cy1pc")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="MapScene" type="Node2D"]

[node name="OverworldGrid" type="Node" parent="." groups=["OverworldGrid"]]
script = ExtResource("1_03vl0")
layer_paths = Array[NodePath]([NodePath("Terrain"), NodePath("Objects")])

[node name="Terrain" type="TileMapLayer" parent="OverworldGrid"]
tile_map_data = PackedByteArray("AAAAAAAAAwAAAAEAAAABAAAAAwAHAAMAAAACAAAAAwABAAEAAAADAAAAAwABAAEAAAAEAAAAAwABAAEAAAAFAAAAAwABAAEAAAAGAAAAAwABAAEAAAAHAAAAAwABAAEAAAAIAAAAAwABAAEAAAAJAAAAAwABAAEAAAAKAAAAAwABAAEAAAABAAEAAwABAAIAAAACAAEAAwABAAIAAAADAAEAAwABAAIAAAAEAAEAAwABAAIAAAAFAAEAAwABAAIAAAAGAAEAAwABAAIAAAAHAAEAAwABAAIAAAAIAAEAAwABAAIAAAAJAAEAAwABAAIAAAALAAAAAwABAAEAAAAMAAAAAwABAAEAAAANAAAAAwABAAEAAAAOAAAAAwABAAEAAAAPAAAAAwACAAEAAAAPAAEAAwACAAIAAAAPAAIAAwACAAIAAAAPAAMAAwACAAIAAAAPAAQAAwACAAIAAAAPAAUAAwACAAIAAAAPAAoAAwACAAIAAAAPAAkAAwACAAIAAAAPAAgAAwACAAIAAAAPAAYAAwACAAIAAAAPAAcAAwACAAIAAAAPAAsAAwACAAMAAAAOAAsAAwABAAMAAAANAAsAAwABAAMAAAAMAAsAAwABAAMAAAALAAsAAwABAAMAAAAKAAsAAwABAAMAAAAJAAsAAwABAAMAAAAIAAsAAwABAAMAAAAHAAsAAwABAAMAAAAGAAsAAwABAAMAAAAFAAsAAwABAAMAAAAEAAsAAwABAAMAAAADAAsAAwABAAMAAAACAAsAAwABAAMAAAABAAsAAwABAAMAAAAAAAsAAwAAAAMAAAAAAAoAAwAAAAIAAAAAAAkAAwAAAAIAAAAAAAgAAwAAAAIAAAAAAAcAAwAAAAIAAAAAAAYAAwAAAAIAAAAAAAUAAwAAAAIAAAAAAAQAAwAAAAIAAAAAAAMAAwAAAAIAAAAAAAIAAwAAAAIAAAAAAAEAAwAAAAIAAAAKAAEAAwABAAIAAAALAAEAAwABAAIAAAAMAAEAAwABAAIAAAANAAEAAwABAAIAAAAOAAEAAwABAAIAAAABAAIAAwABAAIAAAACAAIAAwABAAIAAAADAAIAAwABAAIAAAAEAAIAAwABAAIAAAAFAAIAAwABAAIAAAAGAAIAAwABAAIAAAAHAAIAAwABAAIAAAAIAAIAAwABAAIAAAAJAAIAAwABAAIAAAAKAAIAAwABAAIAAAALAAIAAwABAAIAAAAMAAIAAwABAAIAAAANAAIAAwABAAIAAAAOAAIAAwABAAIAAAABAAMAAwABAAIAAAACAAMAAwABAAIAAAADAAMAAwABAAIAAAAEAAMAAwABAAIAAAAFAAMAAwABAAIAAAAGAAMAAwABAAIAAAAHAAMAAwABAAIAAAAIAAMAAwABAAIAAAAJAAMAAwABAAIAAAAKAAMAAwABAAIAAAALAAMAAwABAAIAAAAMAAMAAwABAAIAAAANAAMAAwABAAIAAAAOAAMAAwABAAIAAAABAAQAAwABAAIAAAACAAQAAwABAAIAAAADAAQAAwABAAIAAAAEAAQAAwABAAIAAAAFAAQAAwABAAIAAAAGAAQAAwABAAIAAAAHAAQAAwABAAIAAAAIAAQAAwABAAIAAAAJAAQAAwABAAIAAAAKAAQAAwABAAIAAAALAAQAAwABAAIAAAAMAAQAAwABAAIAAAANAAQAAwABAAIAAAAOAAQAAwABAAIAAAABAAUAAwABAAIAAAACAAUAAwABAAIAAAADAAUAAwABAAIAAAAEAAUAAwABAAIAAAAFAAUAAwABAAIAAAAGAAUAAwABAAIAAAAHAAUAAwABAAIAAAAIAAUAAwABAAIAAAAJAAUAAwABAAIAAAAKAAUAAwABAAIAAAALAAUAAwABAAIAAAAMAAUAAwABAAIAAAANAAUAAwABAAIAAAAOAAUAAwABAAIAAAABAAYAAwABAAIAAAACAAYAAwABAAIAAAADAAYAAwABAAIAAAAEAAYAAwABAAIAAAAFAAYAAwABAAIAAAAGAAYAAwABAAIAAAAHAAYAAwABAAIAAAAIAAYAAwABAAIAAAAJAAYAAwABAAIAAAAKAAYAAwABAAIAAAALAAYAAwABAAIAAAAMAAYAAwABAAIAAAANAAYAAwABAAIAAAAOAAYAAwABAAIAAAABAAcAAwABAAIAAAACAAcAAwABAAIAAAADAAcAAwABAAIAAAAEAAcAAwABAAIAAAAFAAcAAwABAAIAAAAGAAcAAwABAAIAAAAHAAcAAwABAAIAAAAIAAcAAwABAAIAAAAJAAcAAwABAAIAAAAKAAcAAwABAAIAAAALAAcAAwABAAIAAAAMAAcAAwABAAIAAAANAAcAAwABAAIAAAAOAAcAAwABAAIAAAABAAgAAwABAAIAAAACAAgAAwABAAIAAAADAAgAAwABAAIAAAAEAAgAAwABAAIAAAAFAAgAAwABAAIAAAAGAAgAAwABAAIAAAAHAAgAAwABAAIAAAAIAAgAAwABAAIAAAAJAAgAAwABAAIAAAAKAAgAAwABAAIAAAALAAgAAwABAAIAAAAMAAgAAwABAAIAAAANAAgAAwABAAIAAAAOAAgAAwABAAIAAAABAAkAAwABAAIAAAACAAkAAwABAAIAAAADAAkAAwABAAIAAAAEAAkAAwABAAIAAAAFAAkAAwABAAIAAAAGAAkAAwABAAIAAAAHAAkAAwABAAIAAAAIAAkAAwABAAIAAAAJAAkAAwABAAIAAAAKAAkAAwABAAIAAAALAAkAAwABAAIAAAAMAAkAAwABAAIAAAANAAkAAwABAAIAAAAOAAkAAwABAAIAAAABAAoAAwABAAIAAAACAAoAAwABAAIAAAADAAoAAwABAAIAAAAEAAoAAwABAAIAAAAFAAoAAwABAAIAAAAGAAoAAwABAAIAAAAHAAoAAwABAAIAAAAIAAoAAwABAAIAAAAJAAoAAwABAAIAAAAKAAoAAwABAAIAAAALAAoAAwABAAIAAAAMAAoAAwABAAIAAAANAAoAAwABAAIAAAAOAAoAAwABAAIAAAAAAP//AwABAAAAAAABAP//AwABAAAAAAACAP//AwABAAAAAAADAP//AwABAAAAAAAEAP//AwABAAAAAAAFAP//AwABAAAAAAAGAP//AwABAAAAAAAHAP//AwABAAAAAAAIAP//AwABAAAAAAAJAP//AwABAAAAAAAKAP//AwABAAAAAAALAP//AwABAAAAAAAMAP//AwABAAAAAAANAP//AwABAAAAAAAOAP//AwABAAAAAAAPAP//AwABAAAAAAAAAP7/AwABAAAAAAABAP7/AwABAAAAAAACAP7/AwABAAAAAAADAP7/AwABAAAAAAAEAP7/AwABAAAAAAAFAP7/AwABAAAAAAAGAP7/AwABAAAAAAAHAP7/AwABAAAAAAAIAP7/AwABAAAAAAAJAP7/AwABAAAAAAAKAP7/AwABAAAAAAALAP7/AwABAAAAAAAMAP7/AwABAAAAAAANAP7/AwABAAAAAAAOAP7/AwABAAAAAAAPAP7/AwABAAAAAAAAAP3/AwABAAAAAAABAP3/AwABAAAAAAACAP3/AwABAAAAAAADAP3/AwABAAAAAAAEAP3/AwABAAAAAAAFAP3/AwABAAAAAAAGAP3/AwABAAAAAAAHAP3/AwABAAAAAAAIAP3/AwABAAAAAAAJAP3/AwABAAAAAAAKAP3/AwABAAAAAAALAP3/AwABAAAAAAAMAP3/AwABAAAAAAANAP3/AwABAAAAAAAOAP3/AwABAAAAAAAPAP3/AwABAAAAAAAAAPz/AwABAAAAAAABAPz/AwABAAAAAAACAPz/AwABAAAAAAADAPz/AwABAAAAAAAEAPz/AwABAAAAAAAFAPz/AwABAAAAAAAGAPz/AwABAAAAAAAHAPz/AwABAAAAAAAIAPz/AwABAAAAAAAJAPz/AwABAAAAAAAKAPz/AwABAAAAAAALAPz/AwABAAAAAAAMAPz/AwABAAAAAAANAPz/AwABAAAAAAAOAPz/AwABAAAAAAAPAPz/AwABAAAAAAD//wAAAwABAAAAAAD//wEAAwABAAAAAAD//wIAAwABAAAAAAD//wMAAwABAAAAAAD//wQAAwABAAAAAAD//wUAAwABAAAAAAD//wYAAwABAAAAAAD//wcAAwABAAAAAAD//wgAAwABAAAAAAD//wkAAwABAAAAAAD//woAAwABAAAAAAD//wsAAwABAAAAAAD+/wAAAwABAAAAAAD+/wEAAwABAAAAAAD+/wIAAwABAAAAAAD+/wMAAwABAAAAAAD+/wQAAwABAAAAAAD+/wUAAwABAAAAAAD+/wYAAwABAAAAAAD+/wcAAwABAAAAAAD+/wgAAwABAAAAAAD+/wkAAwABAAAAAAD+/woAAwABAAAAAAD+/wsAAwABAAAAAAD9/wAAAwABAAAAAAD9/wEAAwABAAAAAAD9/wIAAwABAAAAAAD9/wMAAwABAAAAAAD9/wQAAwABAAAAAAD9/wUAAwABAAAAAAD9/wYAAwABAAAAAAD9/wcAAwABAAAAAAD9/wgAAwABAAAAAAD9/wkAAwABAAAAAAD9/woAAwABAAAAAAD9/wsAAwABAAAAAAD8/wAAAwABAAAAAAD8/wEAAwABAAAAAAD8/wIAAwABAAAAAAD8/wMAAwABAAAAAAD8/wQAAwABAAAAAAD8/wUAAwABAAAAAAD8/wYAAwABAAAAAAD8/wcAAwABAAAAAAD8/wgAAwABAAAAAAD8/wkAAwABAAAAAAD8/woAAwABAAAAAAD8/wsAAwABAAAAAAAQAAAAAwABAAAAAAAQAAEAAwABAAAAAAAQAAIAAwABAAAAAAAQAAMAAwABAAAAAAAQAAQAAwABAAAAAAAQAAUAAwABAAAAAAAQAAYAAwABAAAAAAAQAAcAAwABAAAAAAAQAAgAAwABAAAAAAAQAAkAAwABAAAAAAAQAAoAAwABAAAAAAAQAAsAAwABAAAAAAARAAAAAwABAAAAAAARAAEAAwABAAAAAAARAAIAAwABAAAAAAARAAMAAwABAAAAAAARAAQAAwABAAAAAAARAAUAAwABAAAAAAARAAYAAwABAAAAAAARAAcAAwABAAAAAAARAAgAAwABAAAAAAARAAkAAwABAAAAAAARAAoAAwABAAAAAAARAAsAAwABAAAAAAASAAAAAwABAAAAAAASAAEAAwABAAAAAAASAAIAAwABAAAAAAASAAMAAwABAAAAAAASAAQAAwABAAAAAAASAAUAAwABAAAAAAASAAYAAwABAAAAAAASAAcAAwABAAAAAAASAAgAAwABAAAAAAASAAkAAwABAAAAAAASAAoAAwABAAAAAAASAAsAAwABAAAAAAATAAAAAwABAAAAAAATAAEAAwABAAAAAAATAAIAAwABAAAAAAATAAMAAwABAAAAAAATAAQAAwABAAAAAAATAAUAAwABAAAAAAATAAYAAwABAAAAAAATAAcAAwABAAAAAAATAAgAAwABAAAAAAATAAkAAwABAAAAAAATAAoAAwABAAAAAAATAAsAAwABAAAAAAA=")
tile_set = ExtResource("2_3m0lu")
metadata/_edit_lock_ = true

[node name="Objects" type="TileMapLayer" parent="OverworldGrid"]
tile_map_data = PackedByteArray("AAAJAAEAAwAAAMYAAAAJAAIAAwAAAMcAAAAJAAQAAwAAAMkAAAAKAAIAAwABAMcAAAAKAAMAAwABAMgAAAALAAIAAwACAMcAAAALAAMAAwACAMgAAAALAAQAAwACAMkAAAAMAAEAAwADAMYAAAAMAAIAAwADAMcAAAAMAAMAAwADAMgAAAAMAAQAAwADAMkAAAANAAEAAwAEAMYAAAANAAIAAwAEAMcAAAANAAMAAwAEAMgAAAANAAQAAwAEAMkAAAAKAAQAAwAFAMkAAAAJAAMAAwAAAMgAAAAKAAEAAwABAMYAAAALAAEAAwACAMYAAAACAAcAAwAAAFgAAAADAAcAAwABAFgAAAAEAAcAAwACAFgAAAACAAgAAwAAAFkAAAADAAgAAwABAFkAAAAEAAgAAwACAFkAAAACAAkAAwAAAFkAAAADAAkAAwABAFkAAAAEAAkAAwACAFkAAAA=")
tile_set = ExtResource("2_3m0lu")
metadata/_edit_lock_ = true

[node name="Above" type="TileMapLayer" parent="OverworldGrid"]
z_index = 1
tile_map_data = PackedByteArray("AAAJAAAAAwAAAMUAAAAKAAAAAwABAMUAAAALAAAAAwACAMUAAAAMAAAAAwADAMUAAAANAAAAAwAEAMUAAAA=")
tile_set = ExtResource("2_3m0lu")
metadata/_edit_lock_ = true

[node name="Events" type="Node2D" parent="OverworldGrid"]
metadata/_edit_lock_ = true

[node name="Event" parent="OverworldGrid/Events" instance=ExtResource("3_7n1ec")]
position = Vector2(240, 144)
pages = Array[ExtResource("4_honu0")]([SubResource("Resource_5slja")])
sprite_frames = SubResource("SpriteFrames_honu0")

[node name="EventController" parent="." instance=ExtResource("7_5slja")]
